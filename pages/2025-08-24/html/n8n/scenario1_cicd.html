<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>n8n CI/CD íŒŒì´í”„ë¼ì¸ ìë™í™” - ì—”í„°í”„ë¼ì´ì¦ˆ ê°€ì´ë“œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #2c3e50;
        }
        
        .container {
            display: flex;
            min-height: 100vh;
        }
        
        .sidebar {
            width: 280px;
            background: linear-gradient(180deg, #1e3c72 0%, #2a5298 100%);
            padding: 30px 20px;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            box-shadow: 4px 0 15px rgba(0,0,0,0.1);
        }
        
        .sidebar h2 {
            color: white;
            font-size: 1.4em;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255,255,255,0.2);
        }
        
        .sidebar ul {
            list-style: none;
        }
        
        .sidebar li {
            margin-bottom: 15px;
        }
        
        .sidebar a {
            color: rgba(255,255,255,0.9);
            text-decoration: none;
            display: block;
            padding: 12px 15px;
            border-radius: 8px;
            transition: all 0.3s;
            background: rgba(255,255,255,0.05);
        }
        
        .sidebar a:hover {
            background: rgba(255,255,255,0.15);
            transform: translateX(5px);
        }
        
        .sidebar .active {
            background: rgba(255,255,255,0.2);
            font-weight: bold;
        }
        
        .main-content {
            margin-left: 280px;
            width: calc(100% - 280px);
            padding: 40px;
            background: white;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 40px;
            border-radius: 15px;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            font-size: 2.8em;
            margin-bottom: 20px;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.95;
        }
        
        .section {
            background: white;
            padding: 40px;
            margin-bottom: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            border-left: 5px solid #667eea;
        }
        
        .section h2 {
            color: #2c3e50;
            font-size: 2em;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e0e6ed;
        }
        
        .section h3 {
            color: #34495e;
            font-size: 1.5em;
            margin-top: 30px;
            margin-bottom: 20px;
        }
        
        .code-block {
            background: #1e2936;
            color: #e0e6ed;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .workflow-step {
            background: #f8f9fa;
            padding: 25px;
            margin: 20px 0;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }
        
        .workflow-step h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }
        
        .feature-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #e9ecef 100%);
            padding: 25px;
            border-radius: 12px;
            border: 1px solid #dee2e6;
            transition: all 0.3s;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .feature-card h4 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .alert {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        .alert-info {
            background: #d1ecf1;
            border-left-color: #17a2b8;
        }
        
        .alert-success {
            background: #d4edda;
            border-left-color: #28a745;
        }
        
        .implementation-steps {
            counter-reset: step-counter;
            margin: 30px 0;
        }
        
        .implementation-steps li {
            counter-increment: step-counter;
            margin-bottom: 20px;
            padding-left: 50px;
            position: relative;
            list-style: none;
        }
        
        .implementation-steps li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: #667eea;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }
        
        th {
            background: #667eea;
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
    </style>
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <h2>ğŸ”§ n8n ìë™í™” ê°€ì´ë“œ</h2>
            <ul>
                <li><a href="#overview" class="active">ê°œìš”</a></li>
                <li><a href="#architecture">ì•„í‚¤í…ì²˜ ì„¤ê³„</a></li>
                <li><a href="#implementation">êµ¬í˜„ ë°©ë²•</a></li>
                <li><a href="#workflow">ì›Œí¬í”Œë¡œìš° êµ¬ì„±</a></li>
                <li><a href="#integration">ì‹œìŠ¤í…œ í†µí•©</a></li>
                <li><a href="#monitoring">ëª¨ë‹ˆí„°ë§ ì„¤ì •</a></li>
                <li><a href="#security">ë³´ì•ˆ ê³ ë ¤ì‚¬í•­</a></li>
                <li><a href="#best-practices">ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</a></li>
                <li><a href="#troubleshooting">ë¬¸ì œ í•´ê²°</a></li>
                <li><a href="#case-studies">ì‹¤ì œ ì‚¬ë¡€</a></li>
            </ul>
        </aside>
        
        <main class="main-content">
            <div class="header">
                <h1>CI/CD íŒŒì´í”„ë¼ì¸ ìë™í™”</h1>
                <p>n8nì„ í™œìš©í•œ ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ì§€ì†ì  í†µí•©/ë°°í¬ ìë™í™” ì™„ë²½ ê°€ì´ë“œ</p>
            </div>
            
            <section id="overview" class="section">
                <h2>ğŸ“‹ ê°œìš” ë° ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜</h2>
                <p>
                    CI/CD íŒŒì´í”„ë¼ì¸ ìë™í™”ëŠ” í˜„ëŒ€ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì˜ í•µì‹¬ì…ë‹ˆë‹¤. n8nì„ í†µí•´ GitHub, GitLab, Jenkins, Docker, Kubernetes ë“± 
                    ë‹¤ì–‘í•œ ë„êµ¬ë“¤ì„ í†µí•©í•˜ì—¬ ì™„ì „ ìë™í™”ëœ ë°°í¬ íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ê°œë°œ ì†ë„ë¥¼ íšê¸°ì ìœ¼ë¡œ í–¥ìƒì‹œí‚¤ê³ ,
                    ì¸ì  ì˜¤ë¥˜ë¥¼ ìµœì†Œí™”í•˜ë©°, ì¼ê´€ëœ ë°°í¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ë³´ì¥í•©ë‹ˆë‹¤.
                </p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>ğŸš€ ìë™ ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸</h4>
                        <p>ì½”ë“œ ì»¤ë°‹ ì‹œ ìë™ìœ¼ë¡œ ë¹Œë“œí•˜ê³  ë‹¨ìœ„ í…ŒìŠ¤íŠ¸, í†µí•© í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ ì¦‰ì‹œ ê°œë°œíŒ€ì— ì•Œë¦¼ì„ ì „ì†¡í•©ë‹ˆë‹¤.</p>
                    </div>
                    <div class="feature-card">
                        <h4>ğŸ” ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬</h4>
                        <p>SonarQubeì™€ ì—°ë™í•˜ì—¬ ì½”ë“œ í’ˆì§ˆì„ ìë™ìœ¼ë¡œ ë¶„ì„í•˜ê³ , ë³´ì•ˆ ì·¨ì•½ì ì„ ì‚¬ì „ì— íƒì§€í•©ë‹ˆë‹¤.</p>
                    </div>
                    <div class="feature-card">
                        <h4>ğŸ“¦ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ê´€ë¦¬</h4>
                        <p>Docker ì´ë¯¸ì§€ë¥¼ ìë™ìœ¼ë¡œ ë¹Œë“œí•˜ê³  ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— í‘¸ì‹œí•©ë‹ˆë‹¤. ë²„ì „ íƒœê¹…ê³¼ ì´ë¯¸ì§€ ìŠ¤ìº”ì„ ìë™í™”í•©ë‹ˆë‹¤.</p>
                    </div>
                    <div class="feature-card">
                        <h4>â˜¸ï¸ Kubernetes ë°°í¬</h4>
                        <p>ê²€ì¦ëœ ì´ë¯¸ì§€ë¥¼ Kubernetes í´ëŸ¬ìŠ¤í„°ì— ìë™ ë°°í¬í•˜ê³ , ë¡¤ë§ ì—…ë°ì´íŠ¸ì™€ ë¡¤ë°±ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.</p>
                    </div>
                </div>
            </section>
            
            <section id="architecture" class="section">
                <h2>ğŸ—ï¸ ì•„í‚¤í…ì²˜ ì„¤ê³„</h2>
                
                <h3>ì‹œìŠ¤í…œ êµ¬ì„± ìš”ì†Œ</h3>
                <p>
                    ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ CI/CD íŒŒì´í”„ë¼ì¸ì€ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì„± ìš”ì†Œë“¤ë¡œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤. n8nì€ ì´ë“¤ì„ ì¤‘ì•™ì—ì„œ 
                    ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
                </p>
                
                <table>
                    <thead>
                        <tr>
                            <th>êµ¬ì„± ìš”ì†Œ</th>
                            <th>ì—­í• </th>
                            <th>ì—°ë™ ë°©ì‹</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Git Repository</td>
                            <td>ì†ŒìŠ¤ ì½”ë“œ ë²„ì „ ê´€ë¦¬</td>
                            <td>Webhook, API</td>
                        </tr>
                        <tr>
                            <td>Build Server</td>
                            <td>ì½”ë“œ ì»´íŒŒì¼ ë° íŒ¨í‚¤ì§•</td>
                            <td>SSH, REST API</td>
                        </tr>
                        <tr>
                            <td>Test Environment</td>
                            <td>ìë™í™” í…ŒìŠ¤íŠ¸ ì‹¤í–‰</td>
                            <td>HTTP Request</td>
                        </tr>
                        <tr>
                            <td>Container Registry</td>
                            <td>Docker ì´ë¯¸ì§€ ì €ì¥ì†Œ</td>
                            <td>Docker API</td>
                        </tr>
                        <tr>
                            <td>Kubernetes Cluster</td>
                            <td>ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ ë° ìš´ì˜</td>
                            <td>kubectl, API</td>
                        </tr>
                        <tr>
                            <td>Monitoring System</td>
                            <td>ë°°í¬ ìƒíƒœ ëª¨ë‹ˆí„°ë§</td>
                            <td>Prometheus API</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="alert alert-info">
                    <strong>ğŸ’¡ ì•„í‚¤í…ì²˜ ì„¤ê³„ íŒ:</strong> ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í™˜ê²½ì—ì„œëŠ” ê° ì„œë¹„ìŠ¤ë³„ë¡œ ë…ë¦½ì ì¸ íŒŒì´í”„ë¼ì¸ì„ êµ¬ì„±í•˜ë˜, 
                    ê³µí†µ ì›Œí¬í”Œë¡œìš°ëŠ” ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì„œë¸Œì›Œí¬í”Œë¡œìš°ë¡œ ëª¨ë“ˆí™”í•˜ëŠ” ê²ƒì´ íš¨ê³¼ì ì…ë‹ˆë‹¤.
                </div>
            </section>
            
            <section id="implementation" class="section">
                <h2>âš™ï¸ êµ¬í˜„ ë°©ë²•</h2>
                
                <h3>1ë‹¨ê³„: n8n í™˜ê²½ ì„¤ì •</h3>
                <div class="workflow-step">
                    <h4>Docker Composeë¥¼ í†µí•œ n8n ì„¤ì¹˜</h4>
                    <div class="code-block">
version: '3.8'
services:
  n8n:
    image: n8nio/n8n:latest
    restart: always
    ports:
      - "5678:5678"
    environment:
      - N8N_BASIC_AUTH_ACTIVE=true
      - N8N_BASIC_AUTH_USER=admin
      - N8N_BASIC_AUTH_PASSWORD=your-secure-password
      - N8N_HOST=your-domain.com
      - N8N_PROTOCOL=https
      - N8N_PORT=5678
      - WEBHOOK_URL=https://your-domain.com/
      - GENERIC_TIMEZONE=Asia/Seoul
    volumes:
      - n8n_data:/home/node/.n8n
      - ./local-files:/files
    networks:
      - n8n-network

  postgres:
    image: postgres:13
    restart: always
    environment:
      - POSTGRES_USER=n8n
      - POSTGRES_PASSWORD=n8n
      - POSTGRES_DB=n8n
    volumes:
      - postgres_data:/var/lib/postgresql/data
    networks:
      - n8n-network

volumes:
  n8n_data:
  postgres_data:

networks:
  n8n-network:
    driver: bridge
                    </div>
                </div>
                
                <h3>2ë‹¨ê³„: GitHub Webhook ì„¤ì •</h3>
                <div class="workflow-step">
                    <h4>Repository Webhook êµ¬ì„±</h4>
                    <ol class="implementation-steps">
                        <li>GitHub Repository Settingsì—ì„œ Webhooks ë©”ë‰´ ì ‘ê·¼</li>
                        <li>Payload URLì— n8n Webhook URL ì…ë ¥: https://your-n8n.com/webhook/github-push</li>
                        <li>Content typeì„ application/jsonìœ¼ë¡œ ì„¤ì •</li>
                        <li>Secret token ìƒì„± ë° ì €ì¥ (ë³´ì•ˆ ê°•í™”)</li>
                        <li>ì´ë²¤íŠ¸ ì„ íƒ: Push, Pull Request, Release</li>
                    </ol>
                </div>
                
                <h3>3ë‹¨ê³„: ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ ìë™í™”</h3>
                <div class="code-block">
{
  "nodes": [
    {
      "name": "GitHub Webhook",
      "type": "n8n-nodes-base.webhook",
      "parameters": {
        "path": "github-push",
        "responseMode": "onReceived",
        "responseData": "allEntries"
      }
    },
    {
      "name": "Parse Commit Info",
      "type": "n8n-nodes-base.function",
      "parameters": {
        "functionCode": "const payload = items[0].json.body;\nreturn [{\n  json: {\n    repository: payload.repository.name,\n    branch: payload.ref.split('/').pop(),\n    commit: payload.head_commit.id,\n    author: payload.head_commit.author.name,\n    message: payload.head_commit.message,\n    timestamp: payload.head_commit.timestamp\n  }\n}];"
      }
    },
    {
      "name": "Trigger Jenkins Build",
      "type": "n8n-nodes-base.httpRequest",
      "parameters": {
        "method": "POST",
        "url": "https://jenkins.company.com/job/{{$json.repository}}/buildWithParameters",
        "authentication": "basicAuth",
        "queryParameters": {
          "parameters": [
            {
              "name": "BRANCH",
              "value": "={{$json.branch}}"
            },
            {
              "name": "COMMIT_ID",
              "value": "={{$json.commit}}"
            }
          ]
        }
      }
    }
  ]
}
                </div>
            </section>
            
            <section id="workflow" class="section">
                <h2>ğŸ”„ ì›Œí¬í”Œë¡œìš° êµ¬ì„±</h2>
                
                <h3>ë©”ì¸ CI/CD ì›Œí¬í”Œë¡œìš°</h3>
                <p>
                    ì™„ì „í•œ CI/CD íŒŒì´í”„ë¼ì¸ì€ ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ê³„ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ê° ë‹¨ê³„ëŠ” n8nì˜ ë…¸ë“œë¡œ êµ¬í˜„ë˜ë©°,
                    ì¡°ê±´ë¶€ ë¶„ê¸°ì™€ ì—ëŸ¬ ì²˜ë¦¬ë¥¼ í†µí•´ ì•ˆì •ì ì¸ ìë™í™”ë¥¼ ë³´ì¥í•©ë‹ˆë‹¤.
                </p>
                
                <div class="workflow-step">
                    <h4>Stage 1: ì†ŒìŠ¤ ì½”ë“œ ì²´í¬ì•„ì›ƒ ë° ê²€ì¦</h4>
                    <div class="code-block">
// Git Clone ë° ë¸Œëœì¹˜ ê²€ì¦
const { exec } = require('child_process');
const util = require('util');
const execPromise = util.promisify(exec);

async function cloneRepository() {
  const repoUrl = $input.item.json.repository_url;
  const branch = $input.item.json.branch;
  const workspace = `/tmp/workspace/${Date.now()}`;
  
  // Repository í´ë¡ 
  await execPromise(`git clone -b ${branch} ${repoUrl} ${workspace}`);
  
  // ì»¤ë°‹ ê²€ì¦
  const { stdout } = await execPromise(`cd ${workspace} && git log -1 --format=%H`);
  
  return {
    workspace: workspace,
    commitHash: stdout.trim(),
    status: 'success'
  };
}

return await cloneRepository();
                    </div>
                </div>
                
                <div class="workflow-step">
                    <h4>Stage 2: ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸</h4>
                    <div class="code-block">
// Docker ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸ ì‹¤í–‰
{
  "buildStage": {
    "dockerfile": "./Dockerfile",
    "context": "{{$json.workspace}}",
    "tags": [
      "{{$json.repository}}:{{$json.commitHash}}",
      "{{$json.repository}}:latest"
    ],
    "buildArgs": {
      "NODE_ENV": "production",
      "BUILD_DATE": "{{$now.toISO()}}",
      "VCS_REF": "{{$json.commitHash}}"
    }
  },
  "testStage": {
    "testCommand": "npm test",
    "coverageThreshold": 80,
    "timeout": 300000
  }
}
                    </div>
                </div>
                
                <div class="workflow-step">
                    <h4>Stage 3: ì´ë¯¸ì§€ ìŠ¤ìº” ë° ë ˆì§€ìŠ¤íŠ¸ë¦¬ í‘¸ì‹œ</h4>
                    <div class="code-block">
// Trivyë¥¼ ì´ìš©í•œ ë³´ì•ˆ ìŠ¤ìº”
async function scanAndPushImage() {
  const imageName = `${$json.repository}:${$json.commitHash}`;
  
  // ë³´ì•ˆ ìŠ¤ìº” ì‹¤í–‰
  const scanResult = await execPromise(
    `trivy image --severity HIGH,CRITICAL --format json ${imageName}`
  );
  
  const vulnerabilities = JSON.parse(scanResult.stdout);
  
  if (vulnerabilities.Results.some(r => r.Vulnerabilities?.length > 0)) {
    // ì‹¬ê°í•œ ì·¨ì•½ì  ë°œê²¬ ì‹œ ì•Œë¦¼
    await sendSlackNotification({
      channel: '#security',
      text: `ğŸš¨ Critical vulnerabilities found in ${imageName}`,
      attachments: vulnerabilities.Results
    });
    
    if (process.env.BLOCK_ON_VULNERABILITIES === 'true') {
      throw new Error('Critical vulnerabilities detected');
    }
  }
  
  // ë ˆì§€ìŠ¤íŠ¸ë¦¬ í‘¸ì‹œ
  await execPromise(`docker push ${imageName}`);
  
  return {
    image: imageName,
    scanStatus: 'completed',
    vulnerabilityCount: vulnerabilities.Results.length
  };
}
                    </div>
                </div>
            </section>
            
            <section id="integration" class="section">
                <h2>ğŸ”— ì‹œìŠ¤í…œ í†µí•©</h2>
                
                <h3>Jenkins ì—°ë™</h3>
                <div class="workflow-step">
                    <h4>Jenkins Job íŠ¸ë¦¬ê±° ë° ëª¨ë‹ˆí„°ë§</h4>
                    <p>
                        n8nì—ì„œ Jenkins APIë¥¼ í™œìš©í•˜ì—¬ ë¹Œë“œ ì‘ì—…ì„ íŠ¸ë¦¬ê±°í•˜ê³  ì‹¤ì‹œê°„ìœ¼ë¡œ ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§í•©ë‹ˆë‹¤.
                        ë¹Œë“œ ì‹¤íŒ¨ ì‹œ ìë™ìœ¼ë¡œ ë¡¤ë°± í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹œì‘í•˜ê³  ê´€ë ¨ íŒ€ì— ì•Œë¦¼ì„ ì „ì†¡í•©ë‹ˆë‹¤.
                    </p>
                    <div class="code-block">
// Jenkins ë¹Œë“œ ëª¨ë‹ˆí„°ë§
const jenkinsUrl = 'https://jenkins.company.com';
const jobName = $json.repository;
const buildNumber = $json.buildNumber;

async function monitorBuild() {
  let buildStatus = 'BUILDING';
  let attempts = 0;
  const maxAttempts = 60; // ìµœëŒ€ 30ë¶„ ëŒ€ê¸°
  
  while (buildStatus === 'BUILDING' && attempts < maxAttempts) {
    const response = await $http.get({
      url: `${jenkinsUrl}/job/${jobName}/${buildNumber}/api/json`,
      auth: {
        username: $credentials.jenkins.username,
        password: $credentials.jenkins.apiToken
      }
    });
    
    buildStatus = response.result;
    
    if (buildStatus === 'BUILDING') {
      await new Promise(resolve => setTimeout(resolve, 30000)); // 30ì´ˆ ëŒ€ê¸°
      attempts++;
    }
  }
  
  return {
    jobName,
    buildNumber,
    status: buildStatus,
    duration: response.duration,
    url: response.url,
    artifacts: response.artifacts
  };
}
                    </div>
                </div>
                
                <h3>Kubernetes ë°°í¬</h3>
                <div class="workflow-step">
                    <h4>Rolling Update ì „ëµ</h4>
                    <div class="code-block">
apiVersion: apps/v1
kind: Deployment
metadata:
  name: {{APP_NAME}}
  namespace: {{NAMESPACE}}
spec:
  replicas: {{REPLICAS}}
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0
  selector:
    matchLabels:
      app: {{APP_NAME}}
  template:
    metadata:
      labels:
        app: {{APP_NAME}}
        version: {{VERSION}}
    spec:
      containers:
      - name: {{APP_NAME}}
        image: {{REGISTRY}}/{{APP_NAME}}:{{VERSION}}
        ports:
        - containerPort: {{PORT}}
        env:
        - name: NODE_ENV
          value: "production"
        livenessProbe:
          httpGet:
            path: /health
            port: {{PORT}}
          initialDelaySeconds: 30
          periodSeconds: 10
        readinessProbe:
          httpGet:
            path: /ready
            port: {{PORT}}
          initialDelaySeconds: 5
          periodSeconds: 5
        resources:
          requests:
            memory: "256Mi"
            cpu: "250m"
          limits:
            memory: "512Mi"
            cpu: "500m"
                    </div>
                </div>
                
                <div class="alert alert-success">
                    <strong>âœ… í†µí•© ì„±ê³µ ì‚¬ë¡€:</strong> í•œ ê¸ˆìœµ ê¸°ì—…ì—ì„œ n8nì„ í†µí•´ Jenkins, GitLab, Kubernetes, Prometheusë¥¼ 
                    í†µí•©í•œ ê²°ê³¼, ë°°í¬ ì‹œê°„ì´ 4ì‹œê°„ì—ì„œ 15ë¶„ìœ¼ë¡œ ë‹¨ì¶•ë˜ì—ˆê³ , ë°°í¬ ì‹¤íŒ¨ìœ¨ì´ 80% ê°ì†Œí–ˆìŠµë‹ˆë‹¤.
                </div>
            </section>
            
            <section id="monitoring" class="section">
                <h2>ğŸ“Š ëª¨ë‹ˆí„°ë§ ì„¤ì •</h2>
                
                <h3>ì‹¤ì‹œê°„ íŒŒì´í”„ë¼ì¸ ëª¨ë‹ˆí„°ë§</h3>
                <p>
                    n8nê³¼ Prometheus, Grafanaë¥¼ ì—°ë™í•˜ì—¬ CI/CD íŒŒì´í”„ë¼ì¸ì˜ ëª¨ë“  ë‹¨ê³„ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê³ ,
                    ì´ìƒ ì§•í›„ë¥¼ ì‚¬ì „ì— ê°ì§€í•©ë‹ˆë‹¤.
                </p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>ğŸ“ˆ ë©”íŠ¸ë¦­ ìˆ˜ì§‘</h4>
                        <ul>
                            <li>ë¹Œë“œ ì†Œìš” ì‹œê°„</li>
                            <li>í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€</li>
                            <li>ë°°í¬ ë¹ˆë„</li>
                            <li>ì‹¤íŒ¨ìœ¨ ë° ë³µêµ¬ ì‹œê°„</li>
                            <li>ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>ğŸš¨ ì•Œë¦¼ ê·œì¹™</h4>
                        <ul>
                            <li>ë¹Œë“œ ì‹¤íŒ¨ ì‹œ ì¦‰ì‹œ ì•Œë¦¼</li>
                            <li>í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ì„ê³„ê°’ ë¯¸ë‹¬</li>
                            <li>ë°°í¬ í›„ ì—ëŸ¬ìœ¨ ì¦ê°€</li>
                            <li>ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ê¸‰ì¦</li>
                            <li>SLA ìœ„ë°˜ ìœ„í—˜</li>
                        </ul>
                    </div>
                </div>
                
                <div class="workflow-step">
                    <h4>Prometheus ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ì„¤ì •</h4>
                    <div class="code-block">
// n8n ì»¤ìŠ¤í…€ ë©”íŠ¸ë¦­ ìµìŠ¤í¬í„°
const promClient = require('prom-client');
const register = new promClient.Registry();

// ì»¤ìŠ¤í…€ ë©”íŠ¸ë¦­ ì •ì˜
const buildDuration = new promClient.Histogram({
  name: 'cicd_build_duration_seconds',
  help: 'Duration of CI/CD builds in seconds',
  labelNames: ['project', 'branch', 'status'],
  buckets: [30, 60, 120, 300, 600, 1200, 1800, 3600]
});

const deploymentCounter = new promClient.Counter({
  name: 'cicd_deployments_total',
  help: 'Total number of deployments',
  labelNames: ['environment', 'service', 'status']
});

const testCoverage = new promClient.Gauge({
  name: 'cicd_test_coverage_percent',
  help: 'Test coverage percentage',
  labelNames: ['project', 'branch']
});

register.registerMetric(buildDuration);
register.registerMetric(deploymentCounter);
register.registerMetric(testCoverage);

// ë©”íŠ¸ë¦­ ì—…ë°ì´íŠ¸
function updateMetrics(buildData) {
  buildDuration.observe(
    { 
      project: buildData.project, 
      branch: buildData.branch, 
      status: buildData.status 
    },
    buildData.duration
  );
  
  if (buildData.deployed) {
    deploymentCounter.inc({
      environment: buildData.environment,
      service: buildData.service,
      status: buildData.deployStatus
    });
  }
  
  testCoverage.set(
    { 
      project: buildData.project, 
      branch: buildData.branch 
    },
    buildData.coverage
  );
}

// Prometheus ì—”ë“œí¬ì¸íŠ¸ ë…¸ì¶œ
app.get('/metrics', async (req, res) => {
  res.set('Content-Type', register.contentType);
  res.end(await register.metrics());
});
                    </div>
                </div>
            </section>
            
            <section id="security" class="section">
                <h2>ğŸ” ë³´ì•ˆ ê³ ë ¤ì‚¬í•­</h2>
                
                <h3>ì‹œí¬ë¦¿ ê´€ë¦¬</h3>
                <p>
                    CI/CD íŒŒì´í”„ë¼ì¸ì—ì„œ ì‚¬ìš©ë˜ëŠ” ëª¨ë“  ì‹œí¬ë¦¿ê³¼ ì¸ì¦ ì •ë³´ëŠ” ì•ˆì „í•˜ê²Œ ê´€ë¦¬ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
                    n8nì˜ Credentials ê¸°ëŠ¥ê³¼ ì™¸ë¶€ ì‹œí¬ë¦¿ ê´€ë¦¬ ë„êµ¬ë¥¼ ì—°ë™í•˜ì—¬ ë³´ì•ˆì„ ê°•í™”í•©ë‹ˆë‹¤.
                </p>
                
                <div class="workflow-step">
                    <h4>HashiCorp Vault ì—°ë™</h4>
                    <div class="code-block">
// Vaultì—ì„œ ì‹œí¬ë¦¿ ê°€ì ¸ì˜¤ê¸°
const vault = require('node-vault')({
  endpoint: 'https://vault.company.com',
  token: process.env.VAULT_TOKEN
});

async function getSecrets(path) {
  try {
    const result = await vault.read(path);
    return result.data.data;
  } catch (error) {
    console.error('Failed to retrieve secrets:', error);
    throw new Error('Secret retrieval failed');
  }
}

// ë°ì´í„°ë² ì´ìŠ¤ ì¸ì¦ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
const dbCreds = await getSecrets('secret/data/database/production');

// Docker Registry ì¸ì¦ ì •ë³´
const registryCreds = await getSecrets('secret/data/docker/registry');

// API í‚¤ ê´€ë¦¬
const apiKeys = await getSecrets('secret/data/apis/external');

return {
  database: {
    host: dbCreds.host,
    username: dbCreds.username,
    password: dbCreds.password
  },
  registry: {
    url: registryCreds.url,
    username: registryCreds.username,
    password: registryCreds.password
  },
  apis: apiKeys
};
                    </div>
                </div>
                
                <h3>ì ‘ê·¼ ì œì–´ ë° ê°ì‚¬</h3>
                <table>
                    <thead>
                        <tr>
                            <th>ë³´ì•ˆ ì˜ì—­</th>
                            <th>êµ¬í˜„ ë°©ë²•</th>
                            <th>ëª¨ë‹ˆí„°ë§ í¬ì¸íŠ¸</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ì¸ì¦/ì¸ê°€</td>
                            <td>OAuth 2.0, SAML, LDAP ì—°ë™</td>
                            <td>ë¡œê·¸ì¸ ì‹œë„, ê¶Œí•œ ë³€ê²½</td>
                        </tr>
                        <tr>
                            <td>ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ</td>
                            <td>VPN, Private Network, TLS 1.3</td>
                            <td>ë¹„ì •ìƒ íŠ¸ë˜í”½, í¬íŠ¸ ìŠ¤ìº”</td>
                        </tr>
                        <tr>
                            <td>ì½”ë“œ ë³´ì•ˆ</td>
                            <td>SAST, DAST, ì˜ì¡´ì„± ìŠ¤ìº”</td>
                            <td>ì·¨ì•½ì  ë°œê²¬, íŒ¨ì¹˜ ìƒíƒœ</td>
                        </tr>
                        <tr>
                            <td>ì»¨í…Œì´ë„ˆ ë³´ì•ˆ</td>
                            <td>ì´ë¯¸ì§€ ìŠ¤ìº”, ëŸ°íƒ€ì„ ë³´í˜¸</td>
                            <td>CVE ë°œê²¬, ë¹„ì •ìƒ ë™ì‘</td>
                        </tr>
                        <tr>
                            <td>ê°ì‚¬ ë¡œê¹…</td>
                            <td>ì¤‘ì•™í™”ëœ ë¡œê·¸ ìˆ˜ì§‘, SIEM</td>
                            <td>ëª¨ë“  ë³€ê²½ì‚¬í•­, ì ‘ê·¼ ê¸°ë¡</td>
                        </tr>
                    </tbody>
                </table>
            </section>
            
            <section id="best-practices" class="section">
                <h2>â­ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</h2>
                
                <h3>íŒŒì´í”„ë¼ì¸ ìµœì í™” ì „ëµ</h3>
                <ol class="implementation-steps">
                    <li>
                        <strong>ë³‘ë ¬ ì²˜ë¦¬ í™œìš©:</strong> ë…ë¦½ì ì¸ ì‘ì—…ë“¤ì€ ë³‘ë ¬ë¡œ ì‹¤í–‰í•˜ì—¬ ì „ì²´ íŒŒì´í”„ë¼ì¸ ì‹œê°„ì„ ë‹¨ì¶•í•©ë‹ˆë‹¤.
                        n8nì˜ Split In Batches ë…¸ë“œë¥¼ í™œìš©í•˜ì—¬ ëŒ€ëŸ‰ ì‘ì—…ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.
                    </li>
                    <li>
                        <strong>ìºì‹± ì „ëµ:</strong> Docker ë ˆì´ì–´ ìºì‹±, ì˜ì¡´ì„± ìºì‹±ì„ í†µí•´ ë¹Œë“œ ì‹œê°„ì„ ìµœì†Œí™”í•©ë‹ˆë‹¤.
                        ìì£¼ ë³€ê²½ë˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì€ ë³„ë„ ë ˆì´ì–´ë¡œ ë¶„ë¦¬í•©ë‹ˆë‹¤.
                    </li>
                    <li>
                        <strong>ì ì§„ì  ë¡¤ì•„ì›ƒ:</strong> Canary ë°°í¬, Blue-Green ë°°í¬ë¥¼ í†µí•´ ìœ„í—˜ì„ ìµœì†Œí™”í•˜ë©´ì„œ 
                        ìƒˆ ë²„ì „ì„ ë°°í¬í•©ë‹ˆë‹¤.
                    </li>
                    <li>
                        <strong>ìë™ ë¡¤ë°±:</strong> ë°°í¬ í›„ í—¬ìŠ¤ì²´í¬ ì‹¤íŒ¨ ì‹œ ìë™ìœ¼ë¡œ ì´ì „ ë²„ì „ìœ¼ë¡œ ë¡¤ë°±í•˜ëŠ” 
                        ë©”ì»¤ë‹ˆì¦˜ì„ êµ¬í˜„í•©ë‹ˆë‹¤.
                    </li>
                    <li>
                        <strong>í™˜ê²½ë³„ êµ¬ì„± ê´€ë¦¬:</strong> ê°œë°œ, ìŠ¤í…Œì´ì§•, í”„ë¡œë•ì…˜ í™˜ê²½ë³„ë¡œ ë³„ë„ì˜ êµ¬ì„±ì„ ê´€ë¦¬í•˜ê³ ,
                        í™˜ê²½ ë³€ìˆ˜ë¥¼ í†µí•´ ë™ì ìœ¼ë¡œ ì„¤ì •ì„ ì£¼ì…í•©ë‹ˆë‹¤.
                    </li>
                </ol>
                
                <div class="alert">
                    <strong>âš ï¸ ì£¼ì˜ì‚¬í•­:</strong> í”„ë¡œë•ì…˜ ë°°í¬ëŠ” í•­ìƒ ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ê±°ì¹˜ë„ë¡ ì„¤ì •í•˜ê³ ,
                    ì¤‘ìš”í•œ ë³€ê²½ì‚¬í•­ì€ Change Advisory Board(CAB)ì˜ ê²€í† ë¥¼ ë°›ë„ë¡ í•©ë‹ˆë‹¤.
                </div>
            </section>
            
            <section id="troubleshooting" class="section">
                <h2>ğŸ”§ ë¬¸ì œ í•´ê²°</h2>
                
                <h3>ì¼ë°˜ì ì¸ ë¬¸ì œì™€ í•´ê²° ë°©ë²•</h3>
                
                <div class="workflow-step">
                    <h4>ë¬¸ì œ: ë¹Œë“œ ì‹œê°„ ì´ˆê³¼</h4>
                    <p><strong>ì›ì¸:</strong> ëŒ€ìš©ëŸ‰ ì˜ì¡´ì„±, ë¹„íš¨ìœ¨ì ì¸ Dockerfile, ë„¤íŠ¸ì›Œí¬ ì§€ì—°</p>
                    <p><strong>í•´ê²°ì±…:</strong></p>
                    <ul>
                        <li>ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ ì‚¬ìš©</li>
                        <li>ì˜ì¡´ì„± ìºì‹± ë ˆì´ì–´ ìµœì í™”</li>
                        <li>ë³‘ë ¬ ë¹Œë“œ ì‘ì—… êµ¬ì„±</li>
                        <li>ë¹Œë“œ ì„œë²„ ë¦¬ì†ŒìŠ¤ ì¦ì„¤</li>
                    </ul>
                </div>
                
                <div class="workflow-step">
                    <h4>ë¬¸ì œ: ê°„í—ì ì¸ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨</h4>
                    <p><strong>ì›ì¸:</strong> í…ŒìŠ¤íŠ¸ ê°„ ì˜ì¡´ì„±, íƒ€ì´ë° ì´ìŠˆ, ì™¸ë¶€ ì„œë¹„ìŠ¤ ì˜ì¡´</p>
                    <p><strong>í•´ê²°ì±…:</strong></p>
                    <ul>
                        <li>í…ŒìŠ¤íŠ¸ ê²©ë¦¬ ê°•í™”</li>
                        <li>Mock ì„œë¹„ìŠ¤ í™œìš©</li>
                        <li>ì¬ì‹œë„ ë¡œì§ êµ¬í˜„</li>
                        <li>í…ŒìŠ¤íŠ¸ í™˜ê²½ ì´ˆê¸°í™”</li>
                    </ul>
                </div>
                
                <div class="workflow-step">
                    <h4>ë¬¸ì œ: ë°°í¬ í›„ ì„œë¹„ìŠ¤ ì¥ì• </h4>
                    <p><strong>ì›ì¸:</strong> ì„¤ì • ì˜¤ë¥˜, í˜¸í™˜ì„± ë¬¸ì œ, ë¦¬ì†ŒìŠ¤ ë¶€ì¡±</p>
                    <p><strong>í•´ê²°ì±…:</strong></p>
                    <div class="code-block">
// ìë™ ë¡¤ë°± ìŠ¤í¬ë¦½íŠ¸
async function autoRollback() {
  const healthCheckUrl = 'https://api.company.com/health';
  const maxRetries = 5;
  let retries = 0;
  
  while (retries < maxRetries) {
    try {
      const response = await fetch(healthCheckUrl);
      if (response.status === 200) {
        console.log('Health check passed');
        return { status: 'success' };
      }
    } catch (error) {
      console.error(`Health check failed: ${error.message}`);
    }
    
    retries++;
    await new Promise(resolve => setTimeout(resolve, 10000));
  }
  
  // ë¡¤ë°± ì‹¤í–‰
  console.log('Initiating rollback...');
  await kubectl('rollout undo deployment/api-server');
  
  // ì•Œë¦¼ ì „ì†¡
  await sendAlert({
    severity: 'critical',
    message: 'Automatic rollback initiated due to health check failures',
    service: 'api-server'
  });
  
  return { status: 'rollback' };
}
                    </div>
                </div>
            </section>
            
            <section id="case-studies" class="section">
                <h2>ğŸ’¼ ì‹¤ì œ ì‚¬ë¡€ ì—°êµ¬</h2>
                
                <h3>ì‚¬ë¡€ 1: ê¸€ë¡œë²Œ ì´ì»¤ë¨¸ìŠ¤ í”Œë«í¼</h3>
                <div class="feature-card">
                    <h4>ë„ì „ ê³¼ì œ</h4>
                    <ul>
                        <li>ì¼ì¼ 100íšŒ ì´ìƒì˜ ë°°í¬ ìš”êµ¬</li>
                        <li>20ê°œ ì´ìƒì˜ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê´€ë¦¬</li>
                        <li>ë‹¤ì¤‘ ì§€ì—­ ë°°í¬ ì¡°ì •</li>
                        <li>99.99% ê°€ìš©ì„± SLA ì¤€ìˆ˜</li>
                    </ul>
                    
                    <h4>n8n ì†”ë£¨ì…˜</h4>
                    <ul>
                        <li>ì„œë¹„ìŠ¤ë³„ ë…ë¦½ íŒŒì´í”„ë¼ì¸ êµ¬ì„±</li>
                        <li>ì§€ì—­ë³„ ìˆœì°¨ ë°°í¬ ìë™í™”</li>
                        <li>ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ</li>
                        <li>ìë™ ìŠ¤ì¼€ì¼ë§ ë° ë¡¤ë°±</li>
                    </ul>
                    
                    <h4>ê²°ê³¼</h4>
                    <ul>
                        <li>ë°°í¬ ì‹œê°„ 85% ë‹¨ì¶• (2ì‹œê°„ â†’ 18ë¶„)</li>
                        <li>ë°°í¬ ì‹¤íŒ¨ìœ¨ 92% ê°ì†Œ</li>
                        <li>í‰ê·  ë³µêµ¬ ì‹œê°„(MTTR) 75% ê°œì„ </li>
                        <li>ê°œë°œì ìƒì‚°ì„± 3ë°° í–¥ìƒ</li>
                    </ul>
                </div>
                
                <h3>ì‚¬ë¡€ 2: ê¸ˆìœµ ì„œë¹„ìŠ¤ ê¸°ì—…</h3>
                <div class="feature-card">
                    <h4>ë„ì „ ê³¼ì œ</h4>
                    <ul>
                        <li>ì—„ê²©í•œ ê·œì œ ì¤€ìˆ˜ ìš”êµ¬ì‚¬í•­</li>
                        <li>ë³µì¡í•œ ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤</li>
                        <li>ë ˆê±°ì‹œ ì‹œìŠ¤í…œê³¼ì˜ í†µí•©</li>
                        <li>ê°ì‚¬ ì¶”ì  ì˜ë¬´í™”</li>
                    </ul>
                    
                    <h4>n8n ì†”ë£¨ì…˜</h4>
                    <ul>
                        <li>ë‹¤ë‹¨ê³„ ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš°</li>
                        <li>ìë™í™”ëœ ì»´í”Œë¼ì´ì–¸ìŠ¤ ê²€ì‚¬</li>
                        <li>ìƒì„¸í•œ ê°ì‚¬ ë¡œê·¸ ìƒì„±</li>
                        <li>ë ˆê±°ì‹œ API ì–´ëŒ‘í„° êµ¬í˜„</li>
                    </ul>
                    
                    <h4>ê²°ê³¼</h4>
                    <ul>
                        <li>ê·œì œ ì¤€ìˆ˜ ë¹„ìš© 60% ì ˆê°</li>
                        <li>ê°ì‚¬ ì¤€ë¹„ ì‹œê°„ 90% ë‹¨ì¶•</li>
                        <li>ë³´ì•ˆ ì¸ì‹œë˜íŠ¸ 0ê±´ ë‹¬ì„±</li>
                        <li>ë³€ê²½ ê´€ë¦¬ í”„ë¡œì„¸ìŠ¤ ìë™í™” 100%</li>
                    </ul>
                </div>
                
                <div class="alert alert-success">
                    <strong>ğŸ¯ í•µì‹¬ ì„±ê³µ ìš”ì¸:</strong> n8nì˜ ìœ ì—°í•œ ì›Œí¬í”Œë¡œìš° ì—”ì§„ê³¼ ë‹¤ì–‘í•œ í†µí•© ì˜µì…˜ì„ í™œìš©í•˜ì—¬
                    ê° ê¸°ì—…ì˜ ê³ ìœ í•œ ìš”êµ¬ì‚¬í•­ì— ë§ì¶˜ ë§ì¶¤í˜• CI/CD íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
                </div>
            </section>
        </main>
    </div>
    
    <script>
        // ë¶€ë“œëŸ¬ìš´ ìŠ¤í¬ë¡¤ íš¨ê³¼
        document.querySelectorAll('.sidebar a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);
                
                if (targetSection) {
                    targetSection.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                    
                    // í™œì„± ë§í¬ ì—…ë°ì´íŠ¸
                    document.querySelectorAll('.sidebar a').forEach(a => a.classList.remove('active'));
                    this.classList.add('active');
                }
            });
        });
        
        // ìŠ¤í¬ë¡¤ ì‹œ ì‚¬ì´ë“œë°” í™œì„± ë§í¬ ì—…ë°ì´íŠ¸
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('.section');
            const scrollPosition = window.scrollY + 100;
            
            sections.forEach(section => {
                const top = section.offsetTop;
                const height = section.offsetHeight;
                const id = section.getAttribute('id');
                
                if (scrollPosition >= top && scrollPosition < top + height) {
                    document.querySelectorAll('.sidebar a').forEach(a => a.classList.remove('active'));
                    document.querySelector(`.sidebar a[href="#${id}"]`)?.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>